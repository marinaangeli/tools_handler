<div class="container">
  <div class="d-flex mt-3">
    <div>
      <h1>TOOLS FOR RENT LIST</h1>
      <p>Tools for Rent Near You!</p>
    </div>
    <div class="filter-form align-items-center">
      <%= link_to "Add New Tool", new_tool_path, class:"btn-yellow-lg" %>
    </div>
  </div>

  <div class="row mt-3">

    <div class="col-4">

      <div data-controller="map"
        id='map'
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
        style='width: 400px; height: 520px;'>
      </div>
    </div>


    <div class="tools-grid col-8">

      <% @tools.each do |tool| %>
        <div class="card">
          <% if tool.photo.attached? %>
            <img class="card-img-top card-img-top-index cover" src="<%= cl_image_path tool.photo.key, height: 300, width: 400, crop: :pad %>">
          <% else %>
            <img class="card-img-top card-img-top-index cover" src="https://source.unsplash.com/random/300Ã—150/?<%= tool.name.gsub(" ","-")%>)">
          <% end %>
          <h6 class="card-title text-center fw-semibold p-1"><%= tool.name.capitalize %></h6>
          <div class="d-fex">
            <span class="position-absolute bottom-0 start-0 m-1 ms-2 p-1"><%= number_to_currency(tool.price)%></span>
            <%= link_to "See Details", tool_path(tool), class:"btn-yellow position-absolute bottom-0 end-0" %>
          </div>
        </div>
      <% end %>
    </div>

  </div>

</div>
