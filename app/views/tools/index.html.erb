<div class="container">
  <div class="d-flex">
    <div>
      <h1>INDEX TOOLS</h1>
      <p>Tools index description here</p>
    </div>
    <div class="filter-form align-items-center">
      <%= link_to "Add New Tool", new_tool_path, class:"btn-yellow-lg" %>
    </div>
  </div>


  <div class="tools-grid">

    <% @tools.each do |tool| %>
      <div class="card">
        <% if tool.photo.attached? %>
          <img class="card-img-top card-img-top-index cover" src="<%= cl_image_path tool.photo.key, height: 300, width: 400, crop: :pad %>">
        <% else %>
          <img class="card-img-top card-img-top-index cover" src="https://source.unsplash.com/random/300Ã—150/?<%= tool.name.gsub(" ","-")%>)">
        <% end %>
        <h6 class="card-title text-center fw-semibold p-1"><%= tool.name.capitalize %></h6>
        <div class="d-fex">
          <span class="position-absolute bottom-0 start-0 m-1 ms-2 p-1"><%= number_to_currency(tool.price)%></span>
          <%= link_to "See Details", tool_path(tool), class:"btn-yellow position-absolute bottom-0 end-0" %>
        </div>
      </div>
    <% end %>
  </div>

  <div data-controller="map"
    id='map'
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
    style='width: 400px; height: 300px;'></div>
  <%# <script>
  mapboxgl.accessToken = 'pk.eyJ1IjoibWFyaW5hYW5nZWxpIiwiYSI6ImNsODB3b2hzYjBhZzQzd3FweHpxeHpoM2oifQ.tW_tAKpThuVF5xRXPIIdYA';
  const map = new mapboxgl.Map({
  container: 'map', // container ID
  style: 'mapbox://styles/mapbox/streets-v11', // style URL
  center: [-74.5, 40], // starting position [lng, lat]
  zoom: 9, // starting zoom
  projection: 'globe' // display the map as a 3D globe
  });
  map.on('style.load', () => {
  map.setFog({}); // Set the default atmosphere style
  });
  </script> %>

</div>
